#!/bin/sh
# gvol - get volume of alsa control using amixer, with $1 as the control name,
# defaulting to Master if blank

[ -z "$1" ] && CONTROL=Master || CONTROL="$1"

VOL=$(amixer get $CONTROL | grep -m1 "%")

[ $(grep -Fo "[on]" <<< "$VOL") ] \
	&& grep -o "[0-9]*%" <<< "$VOL" \
	|| echo MUTE
